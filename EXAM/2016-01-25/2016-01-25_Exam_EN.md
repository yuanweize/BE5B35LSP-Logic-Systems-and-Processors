````markdown
# LSP Exam - January 25, 2016

> **CVUT FEL (ÄŒVUT) - ÄŒeskÃ© vysokÃ© uÄenÃ­ technickÃ© v Praze | Czech Technical University in Prague**
>
> ðŸ‡¨ðŸ‡³ [ä¸­æ–‡ç‰ˆ](2016-01-25_Exam_CN.md) | ðŸ‡¬ðŸ‡§ [English](2016-01-25_Exam_EN.md) | ðŸ‡¨ðŸ‡¿ [ÄŒeÅ¡tina](2016-01-25_Exam_CZ.md)

> ðŸ§  **AI-Generated Solution** - Reference analysis below

---

## Question 5: RS Latch Drawing â­Frequently Tested

**Problem**: Draw RS latch using only NOR gates, and draw RS latch using only NAND gates.

### NOR-type RS Latch

```
S â”€â”€â”€â”€â”¬â”€â”€â”€â”€[>NOR]â”€â”€â”€â”€â”¬â”€â”€â”€â”€ Q
      â”‚       â†‘      â”‚
      â”‚       â”‚      â”‚
      â”‚    â”Œâ”€â”€â”´â”€â”€â”   â”‚
      â”‚    â”‚     â”‚   â”‚
      â”‚    â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”˜
      â”‚          â”‚
R â”€â”€â”€â”€â”¬â”€â”€â”€â”€[>NOR]â”€â”€â”€â”€â”¬â”€â”€â”€â”€ QÌ„
      â”‚       â†‘      â”‚
      â”‚       â”‚      â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

**Characteristics**: 
- S=1, R=0 â†’ Q=1 (Set)
- S=0, R=1 â†’ Q=0 (Reset)
- S=0, R=0 â†’ Hold
- S=1, R=1 â†’ Forbidden state

### NAND-type RS Latch

```
SÌ„ â”€â”€â”€â”€â”¬â”€â”€â”€â”€[>NAND]â”€â”€â”€â”¬â”€â”€â”€â”€ Q
      â”‚       â†‘      â”‚
      â”‚       â”‚      â”‚
      â”‚    â”Œâ”€â”€â”´â”€â”€â”   â”‚
      â”‚    â”‚     â”‚   â”‚
      â”‚    â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”˜
      â”‚          â”‚
RÌ„ â”€â”€â”€â”€â”¬â”€â”€â”€â”€[>NAND]â”€â”€â”€â”¬â”€â”€â”€â”€ QÌ„
      â”‚       â†‘      â”‚
      â”‚       â”‚      â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

**Characteristics** (active-low):
- SÌ„=0, RÌ„=1 â†’ Q=1 (Set)
- SÌ„=1, RÌ„=0 â†’ Q=0 (Reset)
- SÌ„=1, RÌ„=1 â†’ Hold
- SÌ„=0, RÌ„=0 â†’ Forbidden state

---

## Question 7: Motor Control Circuit Design

**Problem**: A student came to the exam just to try. Complete his unfinished circuit - pressing the button starts the motor, pressing again stops it. After power-up, the motor must be in stop mode.

**Hint**: Need to add 7 additional components to complete the circuit.

### Circuit Components
- VCC = 5V
- GND = 0V
- Relay
- 24V Battery
- Push-button
- D Flip-Flop (DFF)
- Motor

### Design Approach
1. Use D flip-flop to implement T flip-flop functionality (toggle state on each button press)
2. Feed QÌ„ back to D input
3. Connect button to CLK (rising edge triggered)
4. Connect CLRN to VCC to ensure power-on reset
5. Q output controls the relay

### Components to Add
1. Wire from QÌ„ to D
2. VCC to PRN connection
3. Button debounce circuit
4. Relay driver circuit
5. Protection diode, etc.

---

## Question 8: VHDL Code Analysis

**Problem**: Analyze the poorly formatted VHDL code, draw the corresponding logic circuit diagram and give a title describing its function.

```vhdl
library IEEE; use IEEE.STD_LOGIC_1164.all;
entity test20140214 is port (a, b, c, d : in std_logic; e : out std_logic); end;
architecture rtl of test20140214 is begin
process(a, b) variable z:std_logic_vector(0 to 3); begin
if b = '0' then z:=(others=>'0'); elsif rising_edge(a) then
if c='1' then z:=d & z(0 to 2); else z:=z(3) & z(0 to 2); end if; end if; e<=z(3); end process; end rtl;
```

### Formatted Code

```vhdl
library IEEE; 
use IEEE.STD_LOGIC_1164.all;

entity test20140214 is 
    port (
        a, b, c, d : in std_logic; 
        e : out std_logic
    ); 
end;

architecture rtl of test20140214 is 
begin
    process(a, b) 
        variable z: std_logic_vector(0 to 3); 
    begin
        if b = '0' then 
            z := (others => '0');        -- Async clear
        elsif rising_edge(a) then        -- Rising edge triggered
            if c = '1' then 
                z := d & z(0 to 2);      -- Mode 1: Serial input
            else 
                z := z(3) & z(0 to 2);   -- Mode 2: Circular shift
            end if; 
        end if; 
        e <= z(3);                       -- Output MSB
    end process; 
end rtl;
```

### Circuit Diagram Description

**Circuit Name**: 4-bit Controllable Dual-Mode Shift Register

```
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    d â”€â”€â”€â”¤ MUX â”œâ”€â”€â”€â†’ [DFF] â†’ [DFF] â†’ [DFF] â†’ [DFF] â”€â”€â”€â†’ e
         â”‚  â”‚  â”‚       z(0)   z(1)   z(2)   z(3)
    c â”€â”€â”€â”¤ sel â”‚                              â”‚
         â””â”€â”€â”¬â”€â”€â”˜                              â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    (circular feedback)
    
    a â”€â”€â”€ CLK (all DFFs)
    b â”€â”€â”€ CLRN (all DFFs)
```

### Functional Description

| Signal | Function |
|--------|----------|
| a | Clock signal (rising edge) |
| b | Async clear (b='0' clears) |
| c | Mode select |
| d | Serial data input |
| e | Output (z(3)) |

| c value | Mode |
|---------|------|
| '1' | Serial input: d â†’ z(0) â†’ z(1) â†’ z(2) â†’ z(3) |
| '0' | Circular shift: z(3) â†’ z(0) â†’ z(1) â†’ z(2) â†’ z(3) |

---

## Knowledge Summary

| Question Type | Key Points |
|---------------|------------|
| RS Latch | NOR/NAND gate implementation, understanding set/reset logic |
| Motor Control | D flip-flop application, T flip-flop design |
| VHDL Analysis | Code formatting, shift register understanding |

````
