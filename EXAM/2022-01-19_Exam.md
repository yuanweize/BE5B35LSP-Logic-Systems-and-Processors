# LSP考试 2022年1月19日

## 考试信息
- 日期：2022年1月19日
- 语言：捷克语
- 总分：50分（第一部分25分≥9 + 第二部分25分≥9）

---

## 第1题 - 真值表 (7分)
**题目：** 根据电路图写出函数Y的真值表
**[English]** Write the truth table for function Y based on the circuit diagram

**提示：** 可以使用Shannon展开简化计算

**卡诺图格式：**
```
       B
      A  00 01 11 10
    ┌──────────────
DC 00│
   01│
   11│
   10│
```

---

## 第2题 - De Morgan定律 (3分)
**题目：** 重写逻辑表达式F，使"not"运算符仅出现在变量前面
**[English]** Rewrite the logic expression F so that "not" operators appear only before variables

**原式：**
```vhdl
F = not ( (not A and not C) xor (A and B and C) )
```

**解答思路：**
1. 展开xor: A xor B = (A and not B) or (not A and B)
2. 应用De Morgan: not(A or B) = not A and not B

**答案：**
```vhdl
F = ((A or C) and (not A or not B or not C)) xor 
    ((not A and not C) or (A and B and C))
-- 简化后：
F = (A and not B) or (not A and not C) or (B and C)
```

---

## 第3题 - RS锁存器设计 (10分)
**题目：** 分别用NOR门和NAND门画出RS锁存器，并完成真值表
**[English]** Draw RS latch using NOR gates and NAND gates respectively, and complete the truth tables

### NOR门RS锁存器
```
S ─┬──[NOR]─┬─ Q
   │        │
   └────────┼───┐
            │   │
R ─┬────────┼──[NOR]─ Q̄
   │        │
   └────────┘
```

**真值表（NOR）：**
| S | R | Q | Q̄ |
|---|---|---|---|
| 0 | 0 | Q(保持) | Q̄(保持) |
| 0 | 1 | 0 | 1 |
| 1 | 0 | 1 | 0 |
| 1 | 1 | 0 | 0 (禁止) |

### NAND门RS锁存器
**真值表（NAND）：** 低电平有效
| S | R | Q | Q̄ |
|---|---|---|---|
| 0 | 0 | 1 | 1 (禁止) |
| 0 | 1 | 1 | 0 |
| 1 | 0 | 0 | 1 |
| 1 | 1 | Q(保持) | Q̄(保持) |

---

## 第4题 - Moore/Mealy自动机定义 (5分)
**题目：** 完成Moore/Mealy自动机定义
**[English]** Complete the Moore/Mealy automaton definition

M = < X, S, Z, ω, δ, s₀∈S >

**答案：**
- **X**: 有限输入符号集合 / Finite input alphabet
- **S**: 有限状态集合 / Finite set of states
- **Z**: 有限输出符号集合 / Finite output alphabet
- **δ**: 状态转移函数 / State transition function (Moore: S×X→S, Mealy: S×X→S)
- **ω**: 输出函数 / Output function (Moore: S→Z, Mealy: S×X→Z)
- **s₀**: 初始状态 / Initial state

---

## 第5题 - VHDL代码分析 (10分)
**题目：** 分析压缩的VHDL代码，画出电路图
**[English]** Analyze the compressed VHDL code and draw the circuit diagram

```vhdl
library IEEE; use IEEE.STD_LOGIC_1164.all;
entity zzz is port (a : in std_logic; data : in std_logic; q, qn : out std_logic); end;
architecture rtl of zzz is 
  signal qv : std_logic;
begin 
  process(a) 
  begin 
    if rising_edge(a) then 
      qv <= not data; 
      q <= qv; 
    end if; 
    qn <= not qv;
  end process; 
end;
```

**功能分析：**
- a的上升沿触发
- qv存储data的反值
- q输出前一个qv值（延迟一拍）
- qn是qv的反值
- 这是一个带反相的移位寄存器

---

## 第6题 - 全加器设计 (3分)
**题目：** 画出带A、B、Cin输入和Y、Cout输出的完整一位全加器电路
**[English]** Draw a complete one-bit full adder circuit with A, B, Cin inputs and Y, Cout outputs

**逻辑方程：**
```
Sum = A ⊕ B ⊕ Cin
Cout = (A ∧ B) ∨ (Cin ∧ (A ⊕ B))
```

---

## 第7题 - VHDL电路描述 (7分)
**题目：** 用最短的VHDL代码描述给定电路图，使用向量操作
**[English]** Describe the given circuit diagram with shortest VHDL code using vector operations

```vhdl
library ieee; use ieee.std_logic_1164.all;
use ieee.numeric_std.all;
entity Zahadum is port(
  -- 根据电路图声明端口
);
end entity;
architecture rtl of Zahadum is
begin
  -- 使用向量操作简化代码
end architecture rtl;
```

---

## 第8题 - 并发VHDL描述 (5分)
**题目：** 分析第1题电路的功能，用简化的并发语句描述（不是直接翻译逻辑方程）
**[English]** Analyze the function of circuit from Q1, describe with simplified concurrent statements (not direct translation of logic equations)

```vhdl
library ieee; use ieee.std_logic_1164.all; use ieee.numeric_std.all;
entity yyy is port(a,b,c,d: in std_logic; y: out std_logic); end entity;
architecture dataflow of yyy is
begin
  -- 简化的并发语句
end architecture;
```

---

## 第9题 - 附加题：SOS信标编码器 (10分)
**题目：** 使用高级VHDL命令编写发送SOS信号的编码器
**[English]** Write an SOS signal encoder using advanced VHDL commands
信号序列：010101000111011101110001010100

```vhdl
library ieee; use ieee.std_logic_1164.all; use ieee.numeric_std.all;
entity SOS is 
  port (clk : in std_logic; 
        X: in std_logic_vector(4 downto 0);
        Morse, STOP: out std_logic);
end entity;
architecture rtl of SOS is
  constant SOS_PATTERN : std_logic_vector(29 downto 0) := 
    "010101000111011101110001010100";
begin
  process(X)
    variable idx : integer;
  begin
    idx := to_integer(unsigned(X));
    if idx < 30 then
      Morse <= SOS_PATTERN(29 - idx);
      STOP <= '0';
    else
      Morse <= '0';
      STOP <= '1';
    end if;
  end process;
end architecture;
```

---

## 知识点总结

### 本次考试重点
1. 真值表构建
2. De Morgan定律应用
3. **RS锁存器（NOR和NAND实现）**
4. Moore/Mealy自动机定义
5. VHDL代码分析（移位寄存器）
6. 全加器设计
7. 向量操作VHDL
8. 电路简化分析
9. 莫尔斯码编码器
