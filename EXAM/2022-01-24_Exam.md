# LSP考试 2022年1月24日（英文版）

## 考试信息
- 日期：2022年1月24日
- 语言：捷克语/英语双语
- 总分：50分（第一部分25分>8 + 第二部分25分>8）

---

## 第1题 - Shannon展开 (6分)
**题目：** 将电路的X,Y=f(A,B,C)函数用Shannon展开分解为：
**[English]** Decompose the circuit functions X,Y=f(A,B,C) using Shannon expansion into:
$$X,Y = (\overline{C} \land f_0(A,B)) \lor (C \land f_1(A,B))$$

将f₀和f₁写成卡诺图

**分别为X和Y各画两个卡诺图：**
```
X的f0=      A        X的f1=      A
       0  1               0  1
    ┌─────┬─────     ┌─────┬─────
B 0 │     │         B 0 │     │
  1 │     │           1 │     │

Y的f0=      A        Y的f1=      A
       0  1               0  1
    ┌─────┬─────     ┌─────┬─────
B 0 │     │         B 0 │     │
  1 │     │           1 │     │
```

---

## 第2题 - 有符号/无符号运算 (4分)
**题目：** 在8位加法器上执行96+97+98+99，结果作为8位数的十进制值是多少？
**[English]** Perform 96+97+98+99 on an 8-bit adder, what is the decimal value of the result as an 8-bit number?

**计算：**
- 96+97+98+99 = 390
- 390 mod 256 = 134

**答案：**
- a) **unsigned（无符号）**: 134
- b) **signed（二进制补码有符号）**: 134-256 = **-122**

---

## 第3题 - 1:4解复用器设计 (10分)
**题目：** 画出1:4解复用器的逻辑电路图
**[English]** Draw the logic circuit diagram of a 1:4 demultiplexer

**符号：**
```
         y1 y0
Data ──┤ 0 ├── x0
       │ 1 ├── x1
       │ 2 ├── x2
       │ 3 ├── x3
```

**逻辑方程：**
```
x0 = Data and (not y1) and (not y0)
x1 = Data and (not y1) and y0
x2 = Data and y1 and (not y0)
x3 = Data and y1 and y0
```

---

## 第4题 - RS锁存器仿真 (5分)
**题目：** 给定输入A, B, C在时间t0-t4的值，写出X和Y输出的值
**[English]** Given inputs A, B, C values at times t0-t4, write the values of X and Y outputs

**输入序列：**
```
A = 1 | 0 | 1 | 0 | 1
B = 0 | 0 | 1 | 0 | 0
C = 0 | 1 | 0 | 0 | 0
    t0  t1  t2  t3  t4
```

---

## 第5题 - VHDL代码RTL分析 (10分)
**题目：** 画出以下VHDL代码的RTL视图，并正确命名该电路
**[English]** Draw the RTL view of the following VHDL code and correctly name the circuit

```vhdl
library ieee; use ieee.std_logic_1164.all; use ieee.numeric_std.all;
entity XXX is port(a, b : in std_logic; c : out std_logic); end entity;
architecture beh of XXX is 
begin 
  process (a,b) 
    variable d:std_logic:='0'; 
    variable e:integer range 0 to 25:=0;
  begin 
    if b='0' then 
      e:=0; d:='0'; 
    elsif rising_edge(a) then 
      if e<25 then 
        e:=e+1; 
      else 
        e:=0; d:=not d; 
      end if;
    end if; 
    c<=d; 
  end process; 
end architecture;
```

**功能分析：**
- b='0'是异步复位
- a的上升沿触发
- 计数到25后输出翻转
- **名称：26分频器** (Frequency Divider by 26)

**RTL视图包含：**
- 5位计数器（0-25）
- 比较器（e < 25, e = 25）
- D触发器（存储d）
- 异步复位逻辑

---

## 第6题 - 解复用器VHDL描述 (5分)
**题目：** 用最简单的方式描述第3题的解复用器
**[English]** Describe the demultiplexer from question 3 in the simplest way

```vhdl
library ieee; use ieee.std_logic_1164.all; use ieee.numeric_std.all;
entity yyy is 
  port(Data: in std_logic; 
       y: in std_logic_vector(1 downto 0); 
       x: out std_logic_vector(3 downto 0)); 
end entity;
architecture dataflow of yyy is
begin
  x <= (others => '0');
  x(to_integer(unsigned(y))) <= Data;
end architecture;
```

---

## 第7题 - 16分频器设计 (5分)
**题目：** 在未完成的电路中添加最少元件，创建CLK的同步16分频器（使用+1加法器）
**[English]** Add minimum components to the incomplete circuit to create a synchronous divide-by-16 of CLK (using +1 adder)

**设计思路：**
```
CLK ──┬──> +1加法器 ──> 4个DFF ──> DIV16
      │                    │
      └────────────────────┘
```

- 4位计数器（0-15循环）
- DIV16 = Q3（最高位）
- 每16个时钟周期完成一次

---

## 第8题 - 电机控制电路 (5分)
**题目：** 设计电路：按一次双极按钮开启电机，再按关闭。上电后电机必须关闭。
**[English]** Design a circuit: press a double-pole button once to start motor, press again to stop. Motor must be off after power-up.

**关键组件：**
- DFF触发器
- 异步清零（上电复位）
- 继电器驱动
- 防抖动电路

---

## 第9题 - 附加题：边沿检测器 (10分)
**题目：** 当D输入改变值时，Y输出一个时钟周期的'1'。RESET是同步复位。
**[English]** When D input changes value, Y outputs '1' for one clock cycle. RESET is synchronous reset.

```vhdl
library ieee; use ieee.std_logic_1164.all; use ieee.numeric_std.all;
entity Edges is 
  port (clk, Reset, D : in std_logic; Y: out std_logic);
end entity;
architecture rtl of Edges is
  signal D_prev : std_logic := '0';
begin
  process(clk)
  begin
    if rising_edge(clk) then
      if Reset = '1' then
        D_prev <= '0';
        Y <= '0';
      else
        if D /= D_prev then
          Y <= '1';
        else
          Y <= '0';
        end if;
        D_prev <= D;
      end if;
    end if;
  end process;
end architecture;
```

---

## 知识点总结

### 本次考试重点
1. Shannon展开（双输出）
2. **8位有符号/无符号运算**（重要：390 mod 256）
3. **1:4解复用器设计**
4. RS锁存器仿真
5. **VHDL代码RTL分析**（分频器识别）
6. 解复用器VHDL描述
7. 16分频器设计
8. 电机控制电路
9. 边沿检测器设计

### 重要公式
- 8位无符号范围：0-255
- 8位有符号范围：-128 to 127
- 溢出处理：result mod 2^n
