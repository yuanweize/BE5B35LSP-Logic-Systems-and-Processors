# LSP Exam 2022-01-19

> **Course**: B0B35LSP - LogickÃ© systÃ©my a procesory | BE5B35LSP - Logic Systems and Processors
> **University**: CVUT FEL (ÄŒVUT) - ÄŒeskÃ© vysokÃ© uÄenÃ­ technickÃ© v Praze | Czech Technical University in Prague
> **Keywords**: LSP, Exam, ZkouÅ¡ka, 2022-01-19, truth table, De Morgan, RS latch, VHDL
>
> [ğŸ‡¨ğŸ‡³ CN Version](./2022-01-19_Exam_CN.md) | [ğŸ‡¬ğŸ‡§ EN Version](./2022-01-19_Exam_EN.md) | [ğŸ‡¨ğŸ‡¿ CZ Version](./2022-01-19_Exam_CZ.md)

---

# LSP Exam 2022-01-19
> ğŸ§  **AI-derived version** - No official answers in the PDF; the following is an inferred walkthrough/notes.

## Exam Info
- Date: 2022-01-19
- Language: Czech
- Total: 50 points (Part 1: 25 pts â‰¥ 9 + Part 2: 25 pts â‰¥ 9)

---

## Q1 - Truth Table (7 pts)
**Task:** Write the truth table for function Y based on the circuit diagram.

**Hint:** You can use Shannon expansion to simplify the computation.

**K-map layout:**
```
       B
      A  00 01 11 10
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DC 00â”‚
   01â”‚
   11â”‚
   10â”‚
```

---

## Q2 - De Morgan's Laws (3 pts)
**Task:** Rewrite logic expression F so that the `not` operator appears only directly in front of variables.

**Original:**
```vhdl
F = not ( (not A and not C) xor (A and B and C) )
```

**Approach:**
1. Expand XOR: $A \oplus B = (A \land \overline{B}) \lor (\overline{A} \land B)$
2. Apply De Morgan: $\overline{A \lor B} = \overline{A} \land \overline{B}$

**Answer (one possible form):**
```vhdl
F = ((A or C) and (not A or not B or not C)) xor 
    ((not A and not C) or (A and B and C))
-- simplified:
F = (A and not B) or (not A and not C) or (B and C)
```

---

## Q3 - RS Latch Design (10 pts)
**Task:** Draw an RS latch using NOR gates and NAND gates, and complete the truth tables.

### RS latch with NOR gates
```
S â”€â”¬â”€â”€[NOR]â”€â”¬â”€ Q
   â”‚        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”
            â”‚   â”‚
R â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€[NOR]â”€ QÌ„
   â”‚        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Truth table (NOR):**
| S | R | Q | QÌ„ |
|---|---|---|---|
| 0 | 0 | hold Q | hold QÌ„ |
| 0 | 1 | 0 | 1 |
| 1 | 0 | 1 | 0 |
| 1 | 1 | 0 | 0 (invalid) |

### RS latch with NAND gates
**Truth table (NAND):** active-low inputs
| S | R | Q | QÌ„ |
|---|---|---|---|
| 0 | 0 | 1 | 1 (invalid) |
| 0 | 1 | 1 | 0 |
| 1 | 0 | 0 | 1 |
| 1 | 1 | hold Q | hold QÌ„ |

---

## Q4 - Moore/Mealy Automaton Definition (5 pts)
**Task:** Complete the Moore/Mealy automaton definition.

$M = < X, S, Z, \omega, \delta, s_0\in S >$

**Answer:**
- **X**: Finite input alphabet
- **S**: Finite set of states
- **Z**: Finite output alphabet
- **Î´**: State transition function (Moore: $S\times X\to S$, Mealy: $S\times X\to S$)
- **Ï‰**: Output function (Moore: $S\to Z$, Mealy: $S\times X\to Z$)
- **sâ‚€**: Initial state

---

## Q5 - VHDL Code Analysis (10 pts)
**Task:** Analyze the compressed VHDL code and draw the circuit diagram.

```vhdl
library IEEE; use IEEE.STD_LOGIC_1164.all;
entity zzz is port (a : in std_logic; data : in std_logic; q, qn : out std_logic); end;
architecture rtl of zzz is 
  signal qv : std_logic;
begin 
  process(a) 
  begin 
    if rising_edge(a) then 
      qv <= not data; 
      q <= qv; 
    end if; 
    qn <= not qv;
  end process; 
end;
```

**Functional analysis:**
- Triggered on rising edge of `a`
- `qv` stores the inverted `data`
- `q` outputs the previous `qv` (one-cycle delay)
- `qn` is the inversion of `qv`
- This behaves like a 1-bit shift register / pipeline with inversion

---

## Q6 - Full Adder Design (3 pts)
**Task:** Draw a complete one-bit full adder with inputs A, B, Cin and outputs Y (Sum), Cout.

**Equations:**
```
Sum = A âŠ• B âŠ• Cin
Cout = (A âˆ§ B) âˆ¨ (Cin âˆ§ (A âŠ• B))
```

---

## Q7 - VHDL Circuit Description (7 pts)
**Task:** Describe the given circuit diagram in the shortest VHDL code using vector operations.

```vhdl
library ieee; use ieee.std_logic_1164.all;
use ieee.numeric_std.all;
entity Zahadum is port(
  -- declare ports according to the schematic
);
end entity;
architecture rtl of Zahadum is
begin
  -- use vector operations to simplify
end architecture rtl;
```

---

## Q8 - Concurrent VHDL Description (5 pts)
**Task:** Analyze the function of the circuit from Q1 and describe it using simplified concurrent statements (not a direct rewrite of the boolean equations).

```vhdl
library ieee; use ieee.std_logic_1164.all; use ieee.numeric_std.all;
entity yyy is port(a,b,c,d: in std_logic; y: out std_logic); end entity;
architecture dataflow of yyy is
begin
  -- simplified concurrent statements
end architecture;
```

---

## Q9 - Bonus: SOS Beacon Encoder (10 pts)
**Task:** Write an SOS signal encoder using advanced VHDL constructs.
Signal sequence: `010101000111011101110001010100`

```vhdl
library ieee; use ieee.std_logic_1164.all; use ieee.numeric_std.all;
entity SOS is 
  port (clk : in std_logic; 
        X: in std_logic_vector(4 downto 0);
        Morse, STOP: out std_logic);
end entity;
architecture rtl of SOS is
  constant SOS_PATTERN : std_logic_vector(29 downto 0) := 
    "010101000111011101110001010100";
begin
  process(X)
    variable idx : integer;
  begin
    idx := to_integer(unsigned(X));
    if idx < 30 then
      Morse <= SOS_PATTERN(29 - idx);
      STOP <= '0';
    else
      Morse <= '0';
      STOP <= '1';
    end if;
  end process;
end architecture;
```

---

## Key Topics Summary

### Focus points in this exam
1. Building truth tables
2. Applying De Morgan's laws
3. **RS latch (NOR and NAND implementations)**
4. Moore/Mealy automaton definition
5. VHDL code analysis (shift-register behavior)
6. Full adder design
7. Vector operations in VHDL
8. Circuit simplification / functional reasoning
9. Morse/SOS encoder
